{"version":3,"sources":["components/Filter.js","components/Form.js","components/Contacts.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","searchTerm","onChange","handleSearchChange","Form","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Contacts","list","deleteNameOf","filter","name","toLowerCase","includes","map","key","number","onClick","id","Notification","message","alertColor","color","className","style","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","errorMessage","setErrorMessage","useEffect","personService","initialPersons","findName","some","element","console","log","event","target","preventDefault","nameObject","find","n","updateNumber","window","confirm","returnedNumber","setTimeout","catch","error","numberConfirm","concat","person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eb877a35.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n        filter contacts: <input value={props.searchTerm} onChange={props.handleSearchChange} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.addName}>\n            <div>\n            name: <input value={props.newName} onChange={props.handleNameChange} />\n            </div>\n            <div>\n            number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form","import React from 'react'\n\nconst Contacts = ({list, searchTerm, deleteNameOf }) => {\n    const rows = () => list\n      .filter(list => \n        list.name.toLowerCase().includes(searchTerm.toLowerCase())\n        )\n      .map(list =>\n        <div key={list.name}>\n          {list.name}, {list.number}\n          <button onClick={() => deleteNameOf(list.id)}>delete</button>\n        </div>\n      )\n\n    return (\n        <div>{rows()}</div>\n    )\n}\n\nexport default Contacts","import React from 'react'\n\nconst Notification = ({ message, newName }) => {\n    const alertColor = {\n        color: message === `${newName} was already deleted from server` ? 'red' : 'darkblue'\n    }\n\n    if (message === null) {\n        return null\n    } \n\n    return (\n        <div className=\"error\" style={alertColor}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n// const baseURL = 'https://intense-plateau-59902.herokuapp.com/api/persons'\nconst baseURL = '/api/notes'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseURL, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseURL}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst handleDelete = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, handleDelete }","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Contacts from './components/Contacts'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  const findName = persons.some(element => element.name === newName )\n  console.log(findName)\n\n  const addName = (event) => {\n      event.preventDefault()\n      const nameObject = {\n          name: newName,\n          number: newNumber,\n      }\n\n      const numberConfirm = id => {\n        const name = persons.find(n => n.name === newName)\n        const updateNumber = { ...name, number: newNumber}\n        console.log(name)\n        \n        if (window.confirm(`${newName} is already in the phonebook, replace number?`)) {\n          personService\n              .update(name.id, updateNumber)\n              .then(returnedNumber => {\n                setPersons(persons.map(name => name.id !==id ? name : returnedNumber))\n                setErrorMessage(\n                  `${newName}'s phone number was updated to ${newNumber}`\n                )\n                setTimeout(() => {\n                  setErrorMessage(null)\n                }, 5000)\n  \n              })\n              .catch(error => {\n                setErrorMessage(\n                  `${newName} was already deleted from server`\n                )\n                setTimeout(() => {\n                  setErrorMessage(null)\n                }, 5000)\n                setPersons(persons.filter(n => n.id !== id))\n              })  \n        }\n        \n      }\n\n      const showAlert = (condition) => {\n        condition\n        ? numberConfirm()\n        : personService\n            .create(nameObject).then(data => {\n              setPersons(persons.concat(data))\n              setErrorMessage(\n                `${newName} was added to the Phonebook`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })      \n      }\n\n      showAlert(findName)\n      setNewName('')\n      setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  const deleteNameOf = id => {\n    const person = persons.find(n => n.id === id)\n    console.log(person)\n\n    if\n    (window.confirm(`Delete ${person.name} from Phonebook?`)) {\n      personService \n      .handleDelete(id)\n      .then(setPersons(persons.filter(n => n.id !== id)))\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} newName={newName} />\n      <Filter searchTerm={searchTerm} handleSearchChange={handleSearchChange}/>\n      <h2>Add new contact</h2>\n      <Form \n        newName={newName} \n        newNumber={newNumber} \n        addName={addName} \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n      />\n      <h2>Numbers</h2>\n      <Contacts \n        list={persons} \n        searchTerm={searchTerm} \n        deleteNameOf={deleteNameOf}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}