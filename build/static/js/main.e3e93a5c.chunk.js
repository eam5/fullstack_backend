(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),o=t.n(c),u=t(14),l=t(3),i=t(2),m=t.n(i),f=function(e){return r.a.createElement("div",null,"filter contacts: ",r.a.createElement("input",{value:e.searchTerm,onChange:e.handleSearchChange}))},s=function(e){return r.a.createElement("form",{onSubmit:e.addName},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},d=function(e){var n=e.list,t=e.searchTerm,a=e.deleteNameOf;return r.a.createElement("div",null,n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return r.a.createElement("div",{key:e.name},e.name,", ",e.number,r.a.createElement("button",{onClick:function(){return a(e.id)}},"delete"))})))},b=function(e){var n=e.message,t=e.newName,a={color:n==="".concat(t," was already deleted from server")?"red":"darkblue"};return null===n?null:r.a.createElement("div",{className:"error",style:a},n)},h="/api/persons",p=function(){return m.a.get(h).then((function(e){return e.data}))},O=function(e){return m.a.post(h,e).then((function(e){return e.data}))},v=function(e,n){return m.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return m.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))};t(37);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var w=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),m=i[0],h=i[1],w=Object(a.useState)(""),j=Object(l.a)(w,2),y=j[0],N=j[1],k=Object(a.useState)(""),C=Object(l.a)(k,2),P=C[0],S=C[1],T=Object(a.useState)(null),D=Object(l.a)(T,2),J=D[0],L=D[1];Object(a.useEffect)((function(){p().then((function(e){c(e)}))}),[]);var x=t.some((function(e){return e.name===m}));console.log(x);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(b,{message:J,newName:m}),r.a.createElement(f,{searchTerm:P,handleSearchChange:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"Add new contact"),r.a.createElement(s,{newName:m,newNumber:y,addName:function(e){e.preventDefault();var n={name:m,number:y};x?function(e){var n=t.find((function(e){return e.name===m})),a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{number:y});console.log(n),window.confirm("".concat(m," is already in the phonebook, replace number?"))&&v(n.id,a).then((function(n){c(t.map((function(t){return t.id!==e?t:n}))),L("".concat(m,"'s phone number was updated to ").concat(y)),setTimeout((function(){L(null)}),5e3)})).catch((function(n){L("".concat(m," was already deleted from server")),setTimeout((function(){L(null)}),5e3),c(t.filter((function(n){return n.id!==e})))}))}():O(n).then((function(e){c(t.concat(e)),L("".concat(m," was added to the Phonebook")),setTimeout((function(){L(null)}),5e3)})),h(""),N("")},handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(d,{list:t,searchTerm:P,deleteNameOf:function(e){var n=t.find((function(n){return n.id===e}));console.log(n),window.confirm("Delete ".concat(n.name," from Phonebook?"))&&g(e).then(c(t.filter((function(n){return n.id!==e}))))}}))};o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e3e93a5c.chunk.js.map